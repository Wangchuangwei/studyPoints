public class Test { protected java.io.FileDescriptor createSocket ( ) { java.io.FileDescriptor s = null ; try { s = android.system.Os.socket ( android.net.util.AF_INET6 , android.net.util.SOCK_DGRAM , android.net.util.IPPROTO_UDP ) ; android.system.Os.bind ( s , android.net.util.BlockingSocketReaderTest.LOOPBACK6 , 0 ) ; mLocalSockName = ( ( java.net.InetSocketAddress ) ( android.system.Os.getsockname ( s ) ) ) ; android.system.Os.setsockoptTimeval ( s , android.net.util.SOL_SOCKET , android.net.util.SO_SNDTIMEO , android.net.util.BlockingSocketReaderTest.TIMEO ) ; } catch ( android.system.ErrnoException | java.net.SocketException e ) { closeSocket ( s ) ; fail ( ) ; return null ; } mLocalSocket = s ; return s ; } }